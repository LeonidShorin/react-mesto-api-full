{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useEffect, useState } from 'react';\n\nfunction useInput(initialValue, isOpen) {\n  _s();\n\n  const [value, setValue] = useState(initialValue);\n  const isDirtyInput = initialValue === '' ? false : true;\n  const [isCorrect, setIsCorrect] = useState(isDirtyInput);\n  const [error, setError] = useState('');\n  const [disabledSubmitButton, setDisabledSubmitButton] = useState(!isDirtyInput);\n\n  function handleChange(e) {\n    if (typeof e === 'object') {\n      const input = e.target;\n      handleError(input);\n      setValue(input.value);\n    } else {\n      setValue(e);\n    }\n  }\n\n  function handleError(input) {\n    setIsCorrect(input.validity.valid);\n    setError(input.validationMessage);\n  }\n\n  useEffect(() => {\n    if (!isOpen) {\n      setError('');\n      setIsCorrect(isDirtyInput);\n      setValue(initialValue);\n    }\n  }, [isOpen, isDirtyInput, initialValue]);\n  useEffect(() => {\n    isCorrect ? setDisabledSubmitButton(false) : setDisabledSubmitButton(true);\n  }, [isCorrect]);\n  return {\n    value,\n    handleChange,\n    handleError,\n    isCorrect,\n    error,\n    disabledSubmitButton\n  };\n}\n\n_s(useInput, \"fkT/hqhEbkjfQup7ESKBjJ9T2qQ=\");\n\nexport default useInput;","map":{"version":3,"sources":["C:/Users/Leonid/dev/react-mesto-auth/src/utils/formValidator.js"],"names":["useEffect","useState","useInput","initialValue","isOpen","value","setValue","isDirtyInput","isCorrect","setIsCorrect","error","setError","disabledSubmitButton","setDisabledSubmitButton","handleChange","e","input","target","handleError","validity","valid","validationMessage"],"mappings":";;AAAA,SAAQA,SAAR,EAAmBC,QAAnB,QAAkC,OAAlC;;AAEA,SAASC,QAAT,CAAkBC,YAAlB,EAAgCC,MAAhC,EAAwC;AAAA;;AACtC,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBL,QAAQ,CAACE,YAAD,CAAlC;AACA,QAAMI,YAAY,GAAGJ,YAAY,KAAK,EAAjB,GAAsB,KAAtB,GAA8B,IAAnD;AACA,QAAM,CAACK,SAAD,EAAYC,YAAZ,IAA4BR,QAAQ,CAACM,YAAD,CAA1C;AACA,QAAM,CAACG,KAAD,EAAQC,QAAR,IAAoBV,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM,CAACW,oBAAD,EAAuBC,uBAAvB,IAAkDZ,QAAQ,CAAC,CAACM,YAAF,CAAhE;;AAEA,WAASO,YAAT,CAAsBC,CAAtB,EAAyB;AACvB,QAAI,OAAOA,CAAP,KAAa,QAAjB,EAA2B;AACzB,YAAMC,KAAK,GAAGD,CAAC,CAACE,MAAhB;AACAC,MAAAA,WAAW,CAACF,KAAD,CAAX;AACAV,MAAAA,QAAQ,CAACU,KAAK,CAACX,KAAP,CAAR;AACD,KAJD,MAIO;AACLC,MAAAA,QAAQ,CAACS,CAAD,CAAR;AACD;AACF;;AAED,WAASG,WAAT,CAAqBF,KAArB,EAA4B;AAC1BP,IAAAA,YAAY,CAACO,KAAK,CAACG,QAAN,CAAeC,KAAhB,CAAZ;AACAT,IAAAA,QAAQ,CAACK,KAAK,CAACK,iBAAP,CAAR;AACD;;AAEDrB,EAAAA,SAAS,CAAC,MAAM;AACd,QAAI,CAACI,MAAL,EAAa;AACXO,MAAAA,QAAQ,CAAC,EAAD,CAAR;AACAF,MAAAA,YAAY,CAACF,YAAD,CAAZ;AACAD,MAAAA,QAAQ,CAACH,YAAD,CAAR;AACD;AACF,GANQ,EAMN,CAACC,MAAD,EAAQG,YAAR,EAAsBJ,YAAtB,CANM,CAAT;AAQAH,EAAAA,SAAS,CAAC,MAAM;AACdQ,IAAAA,SAAS,GAAGK,uBAAuB,CAAC,KAAD,CAA1B,GAAoCA,uBAAuB,CAAC,IAAD,CAApE;AACD,GAFQ,EAEN,CAACL,SAAD,CAFM,CAAT;AAIA,SAAO;AACLH,IAAAA,KADK;AAELS,IAAAA,YAFK;AAGLI,IAAAA,WAHK;AAILV,IAAAA,SAJK;AAKLE,IAAAA,KALK;AAMLE,IAAAA;AANK,GAAP;AAQD;;GA1CQV,Q;;AA4CT,eAAeA,QAAf","sourcesContent":["import {useEffect, useState} from 'react';\r\n\r\nfunction useInput(initialValue, isOpen) {\r\n  const [value, setValue] = useState(initialValue);\r\n  const isDirtyInput = initialValue === '' ? false : true;\r\n  const [isCorrect, setIsCorrect] = useState(isDirtyInput);\r\n  const [error, setError] = useState('');\r\n  const [disabledSubmitButton, setDisabledSubmitButton] = useState(!isDirtyInput);\r\n\r\n  function handleChange(e) {\r\n    if (typeof e === 'object') {\r\n      const input = e.target;\r\n      handleError(input);\r\n      setValue(input.value);\r\n    } else {\r\n      setValue(e);\r\n    }\r\n  }\r\n\r\n  function handleError(input) {\r\n    setIsCorrect(input.validity.valid);\r\n    setError(input.validationMessage)\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (!isOpen) {\r\n      setError('');\r\n      setIsCorrect(isDirtyInput);\r\n      setValue(initialValue)\r\n    }\r\n  }, [isOpen,isDirtyInput, initialValue])\r\n\r\n  useEffect(() => {\r\n    isCorrect ? setDisabledSubmitButton(false) : setDisabledSubmitButton(true);\r\n  }, [isCorrect]);\r\n\r\n  return {\r\n    value,\r\n    handleChange,\r\n    handleError,\r\n    isCorrect,\r\n    error,\r\n    disabledSubmitButton\r\n  }\r\n}\r\n\r\nexport default useInput"]},"metadata":{},"sourceType":"module"}