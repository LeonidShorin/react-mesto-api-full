{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\Leonid\\\\dev\\\\mesto-react\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import{useEffect,useState}from'react';function useInput(initialValue,isOpen){var _useState=useState(initialValue),_useState2=_slicedToArray(_useState,2),value=_useState2[0],setValue=_useState2[1];var isDirtyInput=initialValue===''?false:true;var _useState3=useState(isDirtyInput),_useState4=_slicedToArray(_useState3,2),isCorrect=_useState4[0],setIsCorrect=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];var _useState7=useState(!isDirtyInput),_useState8=_slicedToArray(_useState7,2),disabledSubmitButton=_useState8[0],setDisabledSubmitButton=_useState8[1];function handleChange(e){if(typeof e==='object'){var input=e.target;handleError(input);setValue(input.value);}else{setValue(e);}}function handleError(input){setIsCorrect(input.validity.valid);setError(input.validationMessage);}useEffect(function(){if(!isOpen){setError('');setIsCorrect(isDirtyInput);setValue(initialValue);}},[isOpen,isDirtyInput,initialValue]);useEffect(function(){isCorrect?setDisabledSubmitButton(false):setDisabledSubmitButton(true);},[isCorrect]);return{value:value,handleChange:handleChange,handleError:handleError,isCorrect:isCorrect,error:error,disabledSubmitButton:disabledSubmitButton};}export default useInput;","map":{"version":3,"sources":["C:/Users/Leonid/dev/mesto-react/src/utils/formValidator.js"],"names":["useEffect","useState","useInput","initialValue","isOpen","value","setValue","isDirtyInput","isCorrect","setIsCorrect","error","setError","disabledSubmitButton","setDisabledSubmitButton","handleChange","e","input","target","handleError","validity","valid","validationMessage"],"mappings":"+HAAA,OAAQA,SAAR,CAAmBC,QAAnB,KAAkC,OAAlC,CAEA,QAASC,CAAAA,QAAT,CAAkBC,YAAlB,CAAgCC,MAAhC,CAAwC,CACtC,cAA0BH,QAAQ,CAACE,YAAD,CAAlC,wCAAOE,KAAP,eAAcC,QAAd,eACA,GAAMC,CAAAA,YAAY,CAAGJ,YAAY,GAAK,EAAjB,CAAsB,KAAtB,CAA8B,IAAnD,CACA,eAAkCF,QAAQ,CAACM,YAAD,CAA1C,yCAAOC,SAAP,eAAkBC,YAAlB,eACA,eAA0BR,QAAQ,CAAC,EAAD,CAAlC,yCAAOS,KAAP,eAAcC,QAAd,eACA,eAAwDV,QAAQ,CAAC,CAACM,YAAF,CAAhE,yCAAOK,oBAAP,eAA6BC,uBAA7B,eAEA,QAASC,CAAAA,YAAT,CAAsBC,CAAtB,CAAyB,CACvB,GAAI,MAAOA,CAAAA,CAAP,GAAa,QAAjB,CAA2B,CACzB,GAAMC,CAAAA,KAAK,CAAGD,CAAC,CAACE,MAAhB,CACAC,WAAW,CAACF,KAAD,CAAX,CACAV,QAAQ,CAACU,KAAK,CAACX,KAAP,CAAR,CACD,CAJD,IAIO,CACLC,QAAQ,CAACS,CAAD,CAAR,CACD,CACF,CAED,QAASG,CAAAA,WAAT,CAAqBF,KAArB,CAA4B,CAC1BP,YAAY,CAACO,KAAK,CAACG,QAAN,CAAeC,KAAhB,CAAZ,CACAT,QAAQ,CAACK,KAAK,CAACK,iBAAP,CAAR,CACD,CAEDrB,SAAS,CAAC,UAAM,CACd,GAAI,CAACI,MAAL,CAAa,CACXO,QAAQ,CAAC,EAAD,CAAR,CACAF,YAAY,CAACF,YAAD,CAAZ,CACAD,QAAQ,CAACH,YAAD,CAAR,CACD,CACF,CANQ,CAMN,CAACC,MAAD,CAAQG,YAAR,CAAsBJ,YAAtB,CANM,CAAT,CAQAH,SAAS,CAAC,UAAM,CACdQ,SAAS,CAAGK,uBAAuB,CAAC,KAAD,CAA1B,CAAoCA,uBAAuB,CAAC,IAAD,CAApE,CACD,CAFQ,CAEN,CAACL,SAAD,CAFM,CAAT,CAIA,MAAO,CACLH,KAAK,CAALA,KADK,CAELS,YAAY,CAAZA,YAFK,CAGLI,WAAW,CAAXA,WAHK,CAILV,SAAS,CAATA,SAJK,CAKLE,KAAK,CAALA,KALK,CAMLE,oBAAoB,CAApBA,oBANK,CAAP,CAQD,CAED,cAAeV,CAAAA,QAAf","sourcesContent":["import {useEffect, useState} from 'react';\r\n\r\nfunction useInput(initialValue, isOpen) {\r\n  const [value, setValue] = useState(initialValue);\r\n  const isDirtyInput = initialValue === '' ? false : true;\r\n  const [isCorrect, setIsCorrect] = useState(isDirtyInput);\r\n  const [error, setError] = useState('');\r\n  const [disabledSubmitButton, setDisabledSubmitButton] = useState(!isDirtyInput);\r\n\r\n  function handleChange(e) {\r\n    if (typeof e === 'object') {\r\n      const input = e.target;\r\n      handleError(input);\r\n      setValue(input.value);\r\n    } else {\r\n      setValue(e);\r\n    }\r\n  }\r\n\r\n  function handleError(input) {\r\n    setIsCorrect(input.validity.valid);\r\n    setError(input.validationMessage)\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (!isOpen) {\r\n      setError('');\r\n      setIsCorrect(isDirtyInput);\r\n      setValue(initialValue)\r\n    }\r\n  }, [isOpen,isDirtyInput, initialValue])\r\n\r\n  useEffect(() => {\r\n    isCorrect ? setDisabledSubmitButton(false) : setDisabledSubmitButton(true);\r\n  }, [isCorrect]);\r\n\r\n  return {\r\n    value,\r\n    handleChange,\r\n    handleError,\r\n    isCorrect,\r\n    error,\r\n    disabledSubmitButton\r\n  }\r\n}\r\n\r\nexport default useInput"]},"metadata":{},"sourceType":"module"}