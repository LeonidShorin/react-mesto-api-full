{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\stanv\\\\dev\\\\react-mesto-api-full\\\\frontend\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import logo from'../images/logo.svg';import{Link,useLocation}from'react-router-dom';import{useEffect,useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Header(_ref){var isLoggedIn=_ref.isLoggedIn,email=_ref.email,onLogOut=_ref.onLogOut;var _useState=useState(window.screen.width),_useState2=_slicedToArray(_useState,2),screenWidth=_useState2[0],setScreenWidth=_useState2[1];var _useState3=useState(screenWidth>580),_useState4=_slicedToArray(_useState3,2),showNavigation=_useState4[0],setShowNavigation=_useState4[1];var location=useLocation();function traceScreenWidth(){setScreenWidth(window.screen.width);}useEffect(function(){window.addEventListener('resize',traceScreenWidth);return function(){window.removeEventListener('resize',traceScreenWidth);};});useEffect(function(){screenWidth<580?setShowNavigation(false):setShowNavigation(true);},[screenWidth]);function handleNavButtonClick(){setShowNavigation(true);}function handleCloseNavButton(){setShowNavigation(false);}function NavigationBar(_ref2){var columnStyle=_ref2.columnStyle;if(!isLoggedIn&&location.pathname==='/sign-up'){return/*#__PURE__*/_jsx(Link,{to:'/sign-in',className:'header__link',children:\"\\u0412\\u0445\\u043E\\u0434\"});}else if(!isLoggedIn&&location.pathname==='/sign-in'){return/*#__PURE__*/_jsx(Link,{to:'/sign-up',replace:true,className:'header__link',children:\"\\u0420\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u044F\"});}else{return/*#__PURE__*/_jsxs(\"nav\",{className:\"header__navigation \".concat(columnStyle&&'header__navigation_column'),children:[/*#__PURE__*/_jsx(\"span\",{className:'header__emailtag',children:email}),/*#__PURE__*/_jsx(Link,{className:'header__link',to:'/sign-in',onClick:onLogOut,children:\"\\u0412\\u044B\\u0439\\u0442\\u0438\"})]});}}function ShowNavigationBarButton(){return/*#__PURE__*/_jsx(\"button\",{type:'button',className:'header__navigation-button',onClick:handleNavButtonClick,\"aria-label\":'Кнопка навигации'});}function CloseNavigationBarButton(){return/*#__PURE__*/_jsx(\"button\",{type:'button',className:'header__close-navigation-button',onClick:handleCloseNavButton,\"aria-label\":'Кнопка закрытия окна навигации'});}function HeaderLayout(){if(!isLoggedIn||isLoggedIn&&showNavigation&&screenWidth>580){return/*#__PURE__*/_jsx(NavigationBar,{columnStyle:false});}else if(isLoggedIn&&!showNavigation&&screenWidth<580){return/*#__PURE__*/_jsx(ShowNavigationBarButton,{});}else if(isLoggedIn&&showNavigation&&screenWidth<580){return/*#__PURE__*/_jsx(CloseNavigationBarButton,{});}else{return/*#__PURE__*/_jsx(NavigationBar,{columnStyle:false});}}return/*#__PURE__*/_jsxs(_Fragment,{children:[isLoggedIn&&showNavigation&&screenWidth<580&&/*#__PURE__*/_jsx(NavigationBar,{columnStyle:true}),/*#__PURE__*/_jsxs(\"header\",{className:\"header page__header\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"header__logo\",src:logo,alt:\"\\u041B\\u043E\\u0433\\u043E\\u0442\\u0438\\u043F Mesto\"}),/*#__PURE__*/_jsx(HeaderLayout,{})]})]});}export default Header;","map":{"version":3,"sources":["C:/Users/stanv/dev/react-mesto-api-full/frontend/src/components/Header.js"],"names":["logo","Link","useLocation","useEffect","useState","Header","isLoggedIn","email","onLogOut","window","screen","width","screenWidth","setScreenWidth","showNavigation","setShowNavigation","location","traceScreenWidth","addEventListener","removeEventListener","handleNavButtonClick","handleCloseNavButton","NavigationBar","columnStyle","pathname","ShowNavigationBarButton","CloseNavigationBarButton","HeaderLayout"],"mappings":"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","sourcesContent":["import logo from '../images/logo.svg';\nimport {Link, useLocation} from 'react-router-dom';\nimport {useEffect, useState} from 'react';\n\nfunction Header({isLoggedIn, email, onLogOut}) {\n  const [screenWidth, setScreenWidth] = useState(window.screen.width);\n  const [showNavigation, setShowNavigation] = useState(screenWidth > 580);\n  const location = useLocation();\n\n  function traceScreenWidth() {\n    setScreenWidth(window.screen.width);\n  }\n\n  useEffect(() => {\n    window.addEventListener('resize', traceScreenWidth)\n    return () => {\n      window.removeEventListener('resize', traceScreenWidth)\n    }\n  })\n\n  useEffect(() => {\n    (screenWidth < 580) ? setShowNavigation(false) : setShowNavigation(true);\n  }, [screenWidth])\n\n\n  function handleNavButtonClick() {\n    setShowNavigation(true);\n  }\n\n  function handleCloseNavButton() {\n    setShowNavigation(false)\n  }\n\n  function NavigationBar({columnStyle}) {\n    if (!isLoggedIn && location.pathname === '/sign-up') {\n      return (<Link to={'/sign-in'}\n                    className={'header__link'}>\n        Вход\n      </Link>)\n    } else if (!isLoggedIn && location.pathname === '/sign-in') {\n      return (<Link to={'/sign-up'}\n                    replace\n                    className={'header__link'}>\n        Регистрация\n      </Link>)\n    } else {\n      return (\n        <nav className={`header__navigation ${columnStyle && 'header__navigation_column'}`}>\n          <span className={'header__emailtag'}>{email}</span>\n          <Link className={'header__link'}\n                to={'/sign-in'}\n                onClick={onLogOut}>Выйти</Link>\n        </nav>)\n    }\n  }\n\n  function ShowNavigationBarButton() {\n    return (<button type={'button'}\n                    className={'header__navigation-button'}\n                    onClick={handleNavButtonClick}\n                    aria-label={'Кнопка навигации'}>{}</button>)\n  }\n\n  function CloseNavigationBarButton() {\n    return (<button type={'button'}\n                    className={'header__close-navigation-button'}\n                    onClick={handleCloseNavButton}\n                    aria-label={'Кнопка закрытия окна навигации'}>{}</button>)\n  }\n\n  function HeaderLayout() {\n    if (!isLoggedIn || (isLoggedIn && showNavigation && screenWidth > 580)) {\n      return <NavigationBar columnStyle={false}/>\n    } else if (isLoggedIn && !showNavigation && screenWidth < 580) {\n      return <ShowNavigationBarButton/>;\n    } else if (isLoggedIn && showNavigation && screenWidth < 580) {\n      return <CloseNavigationBarButton/>;\n    } else {\n      return <NavigationBar columnStyle={false}/>\n    }\n  }\n\n  return (<>\n    {(isLoggedIn && showNavigation && screenWidth < 580) &&\n    <NavigationBar columnStyle={true}/>}\n    <header className=\"header page__header\">\n      <img className=\"header__logo\"\n           src={logo}\n           alt=\"Логотип Mesto\"/>\n      <HeaderLayout/>\n    </header>\n  </>)\n}\n\nexport default Header"]},"metadata":{},"sourceType":"module"}