{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\stanv\\\\dev\\\\react-mesto-api-full\\\\frontend\\\\src\\\\components\\\\App.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport * as authApi from '../utils/authApi';\nimport { useEffect, useState } from 'react';\nimport Header from './Header.js';\nimport Footer from './Footer.js';\nimport Main from './Main.js';\nimport ImagePopup from './ImagePopup.js';\nimport AddPlacePopup from './AddPlacePopup.js';\nimport EditProfilePopup from './EditProfilePopup.js';\nimport EditAvatarPopup from './EditAvatarPopup.js';\nimport { api } from '../utils/api.js';\nimport Login from './Login';\nimport Register from './Register';\nimport InfoToolTip from './InfoToolTip';\nimport ProtectedRoute from './ProtectedRoute';\nimport { Route, Switch, useHistory } from \"react-router-dom\";\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\nimport NotFound from './NotFound';\nimport ConfirmPopup from './ConfirmPopup';\nimport MenuMobile from './MenuMobile';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  const [isConfirmPopupOpen, setIsConfirmPopupOpen] = useState(false);\n  const [isImagePopupOpen, setIsImagePopupOpen] = useState(false);\n  const [selectedCard, setSelectedCard] = useState(null);\n  const [cards, setCards] = useState([]);\n  const [currentUser, setCurrentUser] = useState({});\n  const [isLoading, setIsLoading] = useState(false);\n  const [deletedCard, setDeletedCard] = useState(null);\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const [email, setEmail] = useState('');\n  const [isRegisterSuccessful, setRegisterSuccessful] = useState(false);\n  const [isInfoToolTipOpen, setIsInfoToolTipOpen] = useState(false);\n  const navigate = useNavigate();\n  const [isShowMenu, setIsShowMenu] = React.useState('menu-mobile_type_close');\n  const [classHeaderMenu, setClassHeaderMenu] = React.useState('header__menu_type_closed');\n  const location = useLocation();\n\n  function tokenCheck() {\n    const jwt = localStorage.getItem('jwt');\n\n    if (!jwt) {\n      return;\n    }\n\n    authApi.verifyUser(jwt).then(data => {\n      setEmail(data.email);\n      setIsLoggedIn(true);\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  useEffect(() => {\n    tokenCheck();\n  }, []);\n  useEffect(() => {\n    const jwt = localStorage.getItem('jwt');\n\n    if (isLoggedIn) {\n      Promise.all([api.getUserInfo(jwt), api.getInitialCards(jwt)]).then(_ref => {\n        let [user, cards] = _ref;\n        setCurrentUser(user);\n        setCards(cards);\n      }).catch(err => {\n        console.log(err);\n      });\n    }\n  }, [isLoggedIn]);\n  useEffect(() => {\n    isLoggedIn ? navigate('/') : navigate('/sign-in');\n  }, [isLoggedIn]);\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function closeAllPopups() {\n    setIsAddPlacePopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setIsConfirmPopupOpen(false);\n    setIsInfoToolTipOpen(false);\n    setIsImagePopupOpen(false);\n    setSelectedCard(null);\n    setDeletedCard(null);\n  }\n\n  function handleCardClick(card) {\n    setIsImagePopupOpen(true);\n    setSelectedCard(card);\n  }\n\n  function handleUpdateUser(name, description) {\n    setIsLoading(true);\n    const jwt = localStorage.getItem('jwt');\n    api.editProfile({\n      name,\n      description\n    }, jwt).then(res => {\n      setCurrentUser(res);\n      closeAllPopups();\n    }).catch(err => {\n      console.log(err);\n    }).finally(() => {\n      setIsLoading(false);\n    });\n  }\n\n  function handleUpdateAvatar(avatar) {\n    const jwt = localStorage.getItem('jwt');\n    setIsLoading(true);\n    api.updateUserAvatar(avatar, jwt).then(res => {\n      setCurrentUser(res);\n      closeAllPopups();\n    }).catch(err => {\n      console.log(err);\n    }).finally(() => {\n      setIsLoading(false);\n    });\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i === currentUser._id);\n    const jwt = localStorage.getItem('jwt');\n\n    if (!isLiked) {\n      api.addLike(card._id, jwt).then(newCard => {\n        setCards(cards => cards.map(c => c._id === card._id ? newCard : c));\n      }).catch(err => {\n        console.log(err);\n      });\n    } else {\n      api.removeLike(card._id, jwt).then(newCard => {\n        setCards(cards => cards.map(c => c._id === card._id ? newCard : c));\n      }).catch(err => {\n        console.log(err);\n      });\n    }\n  }\n\n  function handleCardDeleteSubmit(card) {\n    const jwt = localStorage.getItem('jwt');\n    setIsLoading(true);\n    api.deleteCard(card._id, jwt).then(() => {\n      setCards(cards => {\n        return cards.filter(c => {\n          return c._id !== card._id;\n        });\n      });\n      closeAllPopups();\n    }).catch(err => {\n      console.log(err);\n    }).finally(() => {\n      setIsLoading(false);\n    });\n  }\n\n  function handleAddPlaceSubmit(name, link) {\n    const jwt = localStorage.getItem('jwt');\n    setIsLoading(true);\n    api.addCard({\n      name,\n      link\n    }, jwt).then(newCard => {\n      setCards([newCard, ...cards]);\n      closeAllPopups();\n    }).catch(err => {\n      console.log(err);\n    }).finally(() => {\n      setIsLoading(false);\n    });\n  }\n\n  function handleConfirmCardDelete(card) {\n    setIsConfirmPopupOpen(true);\n    setDeletedCard(card);\n  }\n\n  function onLogin(password, email) {\n    setIsLoading(true);\n    authApi.signIn(password, email).then(data => {\n      const jwt = data.token;\n      localStorage.setItem('jwt', jwt);\n      setIsLoggedIn(true);\n      setEmail(email);\n    }).catch(err => {\n      console.log(err);\n    }).finally(() => {\n      setIsLoading(false);\n    });\n  }\n\n  function onRegister(password, email) {\n    setIsLoading(true);\n    authApi.signUp(password, email).then(data => {\n      setEmail(data.email);\n      setIsInfoToolTipOpen(true);\n      setRegisterSuccessful(true);\n      setIsLoggedIn(true);\n    }).catch(err => {\n      console.log(err);\n      setIsInfoToolTipOpen(true);\n      setRegisterSuccessful(false);\n    }).finally(() => {\n      setIsLoading(false);\n    });\n  }\n\n  function onLogOut() {\n    localStorage.removeItem('jwt');\n    setIsLoggedIn(false);\n  }\n\n  function closeInfoToolTip() {\n    closeAllPopups();\n    isRegisterSuccessful ? navigate('/') : navigate('/sign-up');\n  }\n\n  function showMenu() {\n    if (isShowMenu === 'menu-mobile_type_close') {\n      setIsShowMenu('menu-mobile_type_open');\n    } else {\n      setIsShowMenu('menu-mobile_type_close');\n    }\n\n    if (classHeaderMenu === 'header__menu_type_opened') {\n      setClassHeaderMenu('header__menu_type_closed');\n    } else {\n      setClassHeaderMenu('header__menu_type_opened');\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(CurrentUserContext.Provider, {\n    value: currentUser,\n    children: [isLoggedIn && /*#__PURE__*/_jsxDEV(MenuMobile, {\n      email: email,\n      onLogOut: onLogOut,\n      isShowMenu: isShowMenu\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 281,\n      columnNumber: 10\n    }, this), /*#__PURE__*/_jsxDEV(Header, {\n      isLoggedIn: isLoggedIn,\n      email: email || '',\n      onLogOut: onLogOut,\n      showMenu: showMenu,\n      locaction: location,\n      classHeaderMenu: classHeaderMenu\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(Routes, {\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        path: '/',\n        element: /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n          isLoggedIn: isLoggedIn,\n          children: /*#__PURE__*/_jsxDEV(Main, {\n            onEditProfile: handleEditProfileClick,\n            onAddPlace: handleAddPlaceClick,\n            onEditAvatar: handleEditAvatarClick,\n            onCardClick: handleCardClick,\n            cards: cards,\n            onCardLike: handleCardLike,\n            onCardDelete: handleConfirmCardDelete\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 18\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: '/sign-up',\n        element: /*#__PURE__*/_jsxDEV(Register, {\n          isLoading: isLoading,\n          onRegister: onRegister\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 307,\n          columnNumber: 18\n        }, this),\n        isLoggedIn: isLoggedIn\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: '/sign-in',\n        element: /*#__PURE__*/_jsxDEV(Login, {\n          onLogin: onLogin,\n          isLoggedIn: isLoggedIn,\n          isLoading: isLoading\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 311,\n          columnNumber: 18\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 310,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: '*',\n        element: /*#__PURE__*/_jsxDEV(NotFound, {\n          isLoggedIn: isLoggedIn\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 315,\n          columnNumber: 18\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 314,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 295,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 317,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(EditProfilePopup, {\n      isOpen: isEditProfilePopupOpen,\n      onClose: closeAllPopups,\n      onUpdateUser: handleUpdateUser,\n      onLoading: isLoading\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 318,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(EditAvatarPopup, {\n      isOpen: isEditAvatarPopupOpen,\n      onClose: closeAllPopups,\n      onUpdateAvatar: handleUpdateAvatar,\n      onLoading: isLoading\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 322,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(AddPlacePopup, {\n      isOpen: isAddPlacePopupOpen,\n      onClose: closeAllPopups,\n      onAddPlace: handleAddPlaceSubmit,\n      onLoading: isLoading\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 326,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(ConfirmPopup, {\n      isOpen: isConfirmPopupOpen,\n      onClose: closeAllPopups,\n      onLoading: isLoading,\n      card: deletedCard,\n      onSubmit: handleCardDeleteSubmit\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 330,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(ImagePopup, {\n      card: selectedCard,\n      isOpen: isImagePopupOpen,\n      onClose: closeAllPopups\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 335,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(InfoToolTip, {\n      isSuccess: isRegisterSuccessful,\n      isOpen: isInfoToolTipOpen,\n      onClose: closeInfoToolTip\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 338,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 279,\n    columnNumber: 11\n  }, this);\n}\n\n_s(App, \"CTR1TFdV/OL3rTqH/iKclikmRuE=\", true);\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["C:/Users/stanv/dev/react-mesto-api-full/frontend/src/components/App.js"],"names":["React","authApi","useEffect","useState","Header","Footer","Main","ImagePopup","AddPlacePopup","EditProfilePopup","EditAvatarPopup","api","Login","Register","InfoToolTip","ProtectedRoute","Route","Switch","useHistory","CurrentUserContext","NotFound","ConfirmPopup","MenuMobile","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isConfirmPopupOpen","setIsConfirmPopupOpen","isImagePopupOpen","setIsImagePopupOpen","selectedCard","setSelectedCard","cards","setCards","currentUser","setCurrentUser","isLoading","setIsLoading","deletedCard","setDeletedCard","isLoggedIn","setIsLoggedIn","email","setEmail","isRegisterSuccessful","setRegisterSuccessful","isInfoToolTipOpen","setIsInfoToolTipOpen","navigate","useNavigate","isShowMenu","setIsShowMenu","classHeaderMenu","setClassHeaderMenu","location","useLocation","tokenCheck","jwt","localStorage","getItem","verifyUser","then","data","catch","err","console","log","Promise","all","getUserInfo","getInitialCards","user","handleEditAvatarClick","handleEditProfileClick","handleAddPlaceClick","closeAllPopups","handleCardClick","card","handleUpdateUser","name","description","editProfile","res","finally","handleUpdateAvatar","avatar","updateUserAvatar","handleCardLike","isLiked","likes","some","i","_id","addLike","newCard","map","c","removeLike","handleCardDeleteSubmit","deleteCard","filter","handleAddPlaceSubmit","link","addCard","handleConfirmCardDelete","onLogin","password","signIn","token","setItem","onRegister","signUp","onLogOut","removeItem","closeInfoToolTip","showMenu"],"mappings":"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","sourcesContent":["import React from 'react';\nimport * as authApi from '../utils/authApi'\nimport { useEffect, useState } from 'react';\nimport Header from './Header.js';\nimport Footer from './Footer.js';\nimport Main from './Main.js';\nimport ImagePopup from './ImagePopup.js';\nimport AddPlacePopup from './AddPlacePopup.js';\nimport EditProfilePopup from './EditProfilePopup.js';\nimport EditAvatarPopup from './EditAvatarPopup.js';\nimport { api } from '../utils/api.js';\nimport Login from './Login';\nimport Register from './Register';\nimport InfoToolTip from './InfoToolTip';\nimport ProtectedRoute from './ProtectedRoute';\nimport { Route, Switch, useHistory } from \"react-router-dom\";\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\n\n\n\n\n\n\nimport NotFound from './NotFound';\n\n\n\n\n\n\nimport ConfirmPopup from './ConfirmPopup';\n\n\nimport MenuMobile from './MenuMobile';\n\nfunction App() {\n\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false)\n  const [isConfirmPopupOpen, setIsConfirmPopupOpen] = useState(false);\n  const [isImagePopupOpen, setIsImagePopupOpen] = useState(false);\n  const [selectedCard, setSelectedCard] = useState(null);\n  const [cards, setCards] = useState([]);\n  const [currentUser, setCurrentUser] = useState({});\n  const [isLoading, setIsLoading] = useState(false);\n  const [deletedCard, setDeletedCard] = useState(null);\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const [email, setEmail] = useState('');\n  const [isRegisterSuccessful, setRegisterSuccessful] = useState(false);\n  const [isInfoToolTipOpen, setIsInfoToolTipOpen] = useState(false);\n  const navigate = useNavigate();\n  const [isShowMenu, setIsShowMenu] = React.useState('menu-mobile_type_close');\n  const [classHeaderMenu, setClassHeaderMenu] = React.useState('header__menu_type_closed');\n  const location = useLocation();\n\n  function tokenCheck() {\n    const jwt = localStorage.getItem('jwt');\n    if (!jwt) {\n      return\n    }\n    authApi.verifyUser(jwt)\n      .then((data) => {\n        setEmail(data.email);\n        setIsLoggedIn(true)\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n  }\n\n  useEffect(() => {\n    tokenCheck();\n  }, []);\n\n  useEffect(() => {\n    const jwt = localStorage.getItem('jwt');\n    if (isLoggedIn) {\n      Promise.all([api.getUserInfo(jwt), api.getInitialCards(jwt)])\n        .then(([user, cards]) => {\n          setCurrentUser(user);\n          setCards(cards);\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    }\n  }, [isLoggedIn])\n\n  useEffect(() => {\n    isLoggedIn ? navigate('/') : navigate('/sign-in');\n  }, [isLoggedIn])\n\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function closeAllPopups() {\n    setIsAddPlacePopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setIsConfirmPopupOpen(false);\n    setIsInfoToolTipOpen(false);\n    setIsImagePopupOpen(false);\n    setSelectedCard(null);\n    setDeletedCard(null);\n  }\n\n  function handleCardClick(card) {\n    setIsImagePopupOpen(true);\n    setSelectedCard(card);\n  }\n\n  function handleUpdateUser(name, description) {\n    setIsLoading(true);\n    const jwt = localStorage.getItem('jwt');\n    api.editProfile({ name, description }, jwt)\n      .then(res => {\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n      .catch(err => {\n        console.log(err)\n      })\n      .finally(() => {\n        setIsLoading(false);\n      })\n  }\n\n  function handleUpdateAvatar(avatar) {\n    const jwt = localStorage.getItem('jwt');\n    setIsLoading(true);\n    api.updateUserAvatar(avatar, jwt)\n      .then(res => {\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n      .catch(err => {\n        console.log(err);\n      })\n      .finally(() => {\n        setIsLoading(false);\n      })\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i === currentUser._id);\n    const jwt = localStorage.getItem('jwt');\n    if (!isLiked) {\n      api.addLike(card._id, jwt)\n        .then((newCard) => {\n          setCards((cards) => cards.map((c) => c._id === card._id ? newCard : c));\n        })\n        .catch(err => {\n          console.log(err)\n        });\n    } else {\n      api.removeLike(card._id, jwt)\n        .then((newCard) => {\n          setCards((cards) => cards.map((c) => c._id === card._id ? newCard : c));\n        })\n        .catch(err => {\n          console.log(err);\n        })\n    }\n  }\n\n  function handleCardDeleteSubmit(card) {\n    const jwt = localStorage.getItem('jwt');\n    setIsLoading(true);\n    api.deleteCard(card._id, jwt)\n      .then(() => {\n        setCards((cards) => {\n          return cards.filter(c => {\n            return c._id !== card._id\n          });\n        });\n        closeAllPopups();\n      })\n      .catch(err => {\n        console.log(err);\n      })\n      .finally(() => {\n        setIsLoading(false);\n      })\n  }\n\n  function handleAddPlaceSubmit(name, link) {\n    const jwt = localStorage.getItem('jwt');\n    setIsLoading(true);\n    api.addCard({ name, link }, jwt)\n      .then(newCard => {\n        setCards([newCard, ...cards]);\n        closeAllPopups();\n      })\n      .catch(err => {\n        console.log(err);\n      })\n      .finally(() => {\n        setIsLoading(false);\n      })\n  }\n\n  function handleConfirmCardDelete(card) {\n    setIsConfirmPopupOpen(true);\n    setDeletedCard(card);\n  }\n\n  function onLogin(password, email) {\n    setIsLoading(true);\n    authApi.signIn(password, email)\n      .then((data) => {\n        const jwt = data.token;\n        localStorage.setItem('jwt', jwt);\n        setIsLoggedIn(true);\n        setEmail(email);\n      })\n      .catch(err => {\n        console.log(err);\n      })\n      .finally(() => {\n        setIsLoading(false);\n      })\n  }\n\n  function onRegister(password, email) {\n    setIsLoading(true);\n    authApi.signUp(password, email)\n      .then((data) => {\n        setEmail(data.email);\n        setIsInfoToolTipOpen(true);\n        setRegisterSuccessful(true);\n        setIsLoggedIn(true);\n      })\n      .catch((err) => {\n        console.log(err);\n        setIsInfoToolTipOpen(true);\n        setRegisterSuccessful(false);\n      })\n      .finally(() => {\n        setIsLoading(false);\n      })\n  }\n\n  function onLogOut() {\n    localStorage.removeItem('jwt');\n    setIsLoggedIn(false);\n  }\n\n  function closeInfoToolTip() {\n    closeAllPopups();\n    isRegisterSuccessful ? navigate('/') : navigate('/sign-up');\n  }\n\n  function showMenu() {\n    if (isShowMenu === 'menu-mobile_type_close') {\n      setIsShowMenu('menu-mobile_type_open');\n    } else {\n      setIsShowMenu('menu-mobile_type_close');\n    }\n\n    if (classHeaderMenu === 'header__menu_type_opened') {\n      setClassHeaderMenu('header__menu_type_closed');\n    } else {\n      setClassHeaderMenu('header__menu_type_opened');\n    }\n  }\n\n\n  return (<CurrentUserContext.Provider value={currentUser}>\n    {isLoggedIn\n      && < MenuMobile\n        email={email}\n        onLogOut={onLogOut}\n        isShowMenu={isShowMenu}\n      />\n    }\n\n\n    <Header isLoggedIn={isLoggedIn}\n      email={email || ''}\n      onLogOut={onLogOut}\n      showMenu={showMenu}\n      locaction={location}\n      classHeaderMenu={classHeaderMenu} />\n    <Routes>\n      <Route path={'/'}\n        element={<ProtectedRoute isLoggedIn={isLoggedIn}>\n          <Main onEditProfile={handleEditProfileClick}\n            onAddPlace={handleAddPlaceClick}\n            onEditAvatar={handleEditAvatarClick}\n            onCardClick={handleCardClick}\n            cards={cards}\n            onCardLike={handleCardLike}\n            onCardDelete={handleConfirmCardDelete} />\n        </ProtectedRoute>} />\n      <Route path={'/sign-up'}\n        element={<Register isLoading={isLoading}\n          onRegister={onRegister} />}\n        isLoggedIn={isLoggedIn} />\n      <Route path={'/sign-in'}\n        element={<Login onLogin={onLogin}\n          isLoggedIn={isLoggedIn}\n          isLoading={isLoading} />} />\n      <Route path={'*'}\n        element={<NotFound isLoggedIn={isLoggedIn} />} />\n    </Routes>\n    <Footer />\n    <EditProfilePopup isOpen={isEditProfilePopupOpen}\n      onClose={closeAllPopups}\n      onUpdateUser={handleUpdateUser}\n      onLoading={isLoading} />\n    <EditAvatarPopup isOpen={isEditAvatarPopupOpen}\n      onClose={closeAllPopups}\n      onUpdateAvatar={handleUpdateAvatar}\n      onLoading={isLoading} />\n    <AddPlacePopup isOpen={isAddPlacePopupOpen}\n      onClose={closeAllPopups}\n      onAddPlace={handleAddPlaceSubmit}\n      onLoading={isLoading} />\n    <ConfirmPopup isOpen={isConfirmPopupOpen}\n      onClose={closeAllPopups}\n      onLoading={isLoading}\n      card={deletedCard}\n      onSubmit={handleCardDeleteSubmit} />\n    <ImagePopup card={selectedCard}\n      isOpen={isImagePopupOpen}\n      onClose={closeAllPopups} />\n    <InfoToolTip isSuccess={isRegisterSuccessful}\n      isOpen={isInfoToolTipOpen}\n      onClose={closeInfoToolTip} />\n  </CurrentUserContext.Provider>)\n}\n\nexport default App;\n\n\n"]},"metadata":{},"sourceType":"module"}