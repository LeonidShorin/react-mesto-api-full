{"ast":null,"code":"export default class Card {\n  constructor(cardName, cardImgLink, cardLikes, mainId, cardId, cardTemplateSelector, actualUserId, handleCardClick, handleDelClick, handleLikeClick) {\n    this._cardName = cardName;\n    this._cardImgLink = cardImgLink;\n    this._cardTemplateSelector = cardTemplateSelector;\n    this._handleCardClick = handleCardClick;\n    this._handleDelClick = handleDelClick;\n    this._cardLikes = cardLikes;\n    this._mainId = mainId;\n    this._cardId = cardId;\n    this._handleLikeClick = handleLikeClick;\n    this._actualUserId = actualUserId;\n  }\n\n  createCard() {\n    this._card = document.querySelector(this._cardTemplateSelector).content.querySelector('.element').cloneNode(true);\n    this._cardImg = this._card.querySelector('.element__photo');\n    this._cardDescription = this._card.querySelector('.element__title');\n    this._cardLikeBtn = this._card.querySelector('.element__like-button');\n    this._cardDeleteBtn = this._card.querySelector('.element__delete-button');\n    this._cardLikesQty = this._card.querySelector('.element__likes-num');\n    this._cardDescription.textContent = this._cardName;\n    this._cardImg.src = this._cardImgLink;\n    this._cardImg.alt = `${this._cardName}`;\n    this._cardLikesQty.textContent = this._cardLikes.length;\n    this._card.id = this._cardId;\n\n    if (this._actualUserId !== this._mainId) {\n      this._cardDeleteBtn.classList.add('element__delete-button_hide');\n    }\n\n    if (this._cardLikes.some(item => {\n      return item._id === this._actualUserId;\n    })) {\n      this._likeCard();\n    }\n\n    this._setEventListeners();\n\n    return this._card;\n  }\n\n  _setEventListeners() {\n    this._cardLikeBtn.addEventListener('click', () => {\n      if (!this._cardLikeBtn.classList.contains('element__like-button_active')) {\n        this._handleLikeClick(true);\n      } else {\n        this._handleLikeClick(false);\n      }\n    });\n\n    this._cardDeleteBtn.addEventListener('click', () => {\n      this._handleDelClick();\n    });\n\n    this._cardImg.addEventListener('click', () => {\n      this._handleCardClick();\n    });\n  }\n\n  _likeCard() {\n    this._cardLikeBtn.classList.toggle('element__like-button_active');\n  }\n\n  refreshLikesNum(num) {\n    this._cardLikesQty.textContent = num;\n\n    this._likeCard();\n  }\n\n}","map":{"version":3,"sources":["C:/Users/Leonid/dev/mesto-react/src/components/Card.js"],"names":["Card","constructor","cardName","cardImgLink","cardLikes","mainId","cardId","cardTemplateSelector","actualUserId","handleCardClick","handleDelClick","handleLikeClick","_cardName","_cardImgLink","_cardTemplateSelector","_handleCardClick","_handleDelClick","_cardLikes","_mainId","_cardId","_handleLikeClick","_actualUserId","createCard","_card","document","querySelector","content","cloneNode","_cardImg","_cardDescription","_cardLikeBtn","_cardDeleteBtn","_cardLikesQty","textContent","src","alt","length","id","classList","add","some","item","_id","_likeCard","_setEventListeners","addEventListener","contains","toggle","refreshLikesNum","num"],"mappings":"AAAA,eAAe,MAAMA,IAAN,CAAW;AACxBC,EAAAA,WAAW,CAACC,QAAD,EACCC,WADD,EAECC,SAFD,EAGCC,MAHD,EAICC,MAJD,EAKCC,oBALD,EAMCC,YAND,EAOCC,eAPD,EAQCC,cARD,EASCC,eATD,EASkB;AAC3B,SAAKC,SAAL,GAAiBV,QAAjB;AACA,SAAKW,YAAL,GAAoBV,WAApB;AACA,SAAKW,qBAAL,GAA6BP,oBAA7B;AACA,SAAKQ,gBAAL,GAAwBN,eAAxB;AACA,SAAKO,eAAL,GAAuBN,cAAvB;AACA,SAAKO,UAAL,GAAkBb,SAAlB;AACA,SAAKc,OAAL,GAAeb,MAAf;AACA,SAAKc,OAAL,GAAeb,MAAf;AACA,SAAKc,gBAAL,GAAwBT,eAAxB;AACA,SAAKU,aAAL,GAAqBb,YAArB;AACD;;AAEDc,EAAAA,UAAU,GAAG;AACX,SAAKC,KAAL,GAAaC,QAAQ,CAClBC,aADU,CACI,KAAKX,qBADT,EAEVY,OAFU,CAGVD,aAHU,CAGI,UAHJ,EAIVE,SAJU,CAIA,IAJA,CAAb;AAKA,SAAKC,QAAL,GAAgB,KAAKL,KAAL,CAAWE,aAAX,CAAyB,iBAAzB,CAAhB;AACA,SAAKI,gBAAL,GAAwB,KAAKN,KAAL,CAAWE,aAAX,CAAyB,iBAAzB,CAAxB;AACA,SAAKK,YAAL,GAAoB,KAAKP,KAAL,CAAWE,aAAX,CAAyB,uBAAzB,CAApB;AACA,SAAKM,cAAL,GAAsB,KAAKR,KAAL,CAAWE,aAAX,CAAyB,yBAAzB,CAAtB;AACA,SAAKO,aAAL,GAAqB,KAAKT,KAAL,CAAWE,aAAX,CAAyB,qBAAzB,CAArB;AACA,SAAKI,gBAAL,CAAsBI,WAAtB,GAAoC,KAAKrB,SAAzC;AACA,SAAKgB,QAAL,CAAcM,GAAd,GAAoB,KAAKrB,YAAzB;AACA,SAAKe,QAAL,CAAcO,GAAd,GAAqB,GAAE,KAAKvB,SAAU,EAAtC;AACA,SAAKoB,aAAL,CAAmBC,WAAnB,GAAiC,KAAKhB,UAAL,CAAgBmB,MAAjD;AACA,SAAKb,KAAL,CAAWc,EAAX,GAAgB,KAAKlB,OAArB;;AACA,QAAI,KAAKE,aAAL,KAAuB,KAAKH,OAAhC,EAAyC;AACvC,WAAKa,cAAL,CAAoBO,SAApB,CAA8BC,GAA9B,CAAkC,6BAAlC;AACD;;AACD,QAAI,KAAKtB,UAAL,CAAgBuB,IAAhB,CAAqBC,IAAI,IAAI;AAC/B,aAAQA,IAAI,CAACC,GAAL,KAAa,KAAKrB,aAA1B;AACD,KAFG,CAAJ,EAEI;AACF,WAAKsB,SAAL;AACD;;AACD,SAAKC,kBAAL;;AACA,WAAO,KAAKrB,KAAZ;AACD;;AAEDqB,EAAAA,kBAAkB,GAAG;AACnB,SAAKd,YAAL,CAAkBe,gBAAlB,CAAmC,OAAnC,EAA4C,MAAM;AAChD,UAAI,CAAC,KAAKf,YAAL,CAAkBQ,SAAlB,CAA4BQ,QAA5B,CAAqC,6BAArC,CAAL,EAA0E;AACxE,aAAK1B,gBAAL,CAAsB,IAAtB;AACD,OAFD,MAEO;AACL,aAAKA,gBAAL,CAAsB,KAAtB;AACD;AACF,KAND;;AAOA,SAAKW,cAAL,CAAoBc,gBAApB,CAAqC,OAArC,EAA8C,MAAM;AAClD,WAAK7B,eAAL;AACD,KAFD;;AAGA,SAAKY,QAAL,CAAciB,gBAAd,CAA+B,OAA/B,EAAwC,MAAM;AAC5C,WAAK9B,gBAAL;AACD,KAFD;AAGD;;AAED4B,EAAAA,SAAS,GAAG;AACV,SAAKb,YAAL,CAAkBQ,SAAlB,CAA4BS,MAA5B,CAAmC,6BAAnC;AACD;;AAEDC,EAAAA,eAAe,CAACC,GAAD,EAAM;AACnB,SAAKjB,aAAL,CAAmBC,WAAnB,GAAiCgB,GAAjC;;AACA,SAAKN,SAAL;AACD;;AA1EuB","sourcesContent":["export default class Card {\r\n  constructor(cardName,\r\n              cardImgLink,\r\n              cardLikes,\r\n              mainId,\r\n              cardId,\r\n              cardTemplateSelector,\r\n              actualUserId,\r\n              handleCardClick,\r\n              handleDelClick,\r\n              handleLikeClick) {\r\n    this._cardName = cardName;\r\n    this._cardImgLink = cardImgLink;\r\n    this._cardTemplateSelector = cardTemplateSelector;\r\n    this._handleCardClick = handleCardClick;\r\n    this._handleDelClick = handleDelClick;\r\n    this._cardLikes = cardLikes;\r\n    this._mainId = mainId;\r\n    this._cardId = cardId;\r\n    this._handleLikeClick = handleLikeClick;\r\n    this._actualUserId = actualUserId;\r\n  }\r\n\r\n  createCard() {\r\n    this._card = document\r\n      .querySelector(this._cardTemplateSelector)\r\n      .content\r\n      .querySelector('.element')\r\n      .cloneNode(true);\r\n    this._cardImg = this._card.querySelector('.element__photo');\r\n    this._cardDescription = this._card.querySelector('.element__title');\r\n    this._cardLikeBtn = this._card.querySelector('.element__like-button');\r\n    this._cardDeleteBtn = this._card.querySelector('.element__delete-button');\r\n    this._cardLikesQty = this._card.querySelector('.element__likes-num');\r\n    this._cardDescription.textContent = this._cardName;\r\n    this._cardImg.src = this._cardImgLink;\r\n    this._cardImg.alt = `${this._cardName}`;\r\n    this._cardLikesQty.textContent = this._cardLikes.length;\r\n    this._card.id = this._cardId;\r\n    if (this._actualUserId !== this._mainId) {\r\n      this._cardDeleteBtn.classList.add('element__delete-button_hide');\r\n    }\r\n    if (this._cardLikes.some(item => {\r\n      return (item._id === this._actualUserId);\r\n    })) {\r\n      this._likeCard();\r\n    }\r\n    this._setEventListeners();\r\n    return this._card;\r\n  }\r\n\r\n  _setEventListeners() {\r\n    this._cardLikeBtn.addEventListener('click', () => {\r\n      if (!this._cardLikeBtn.classList.contains('element__like-button_active')) {\r\n        this._handleLikeClick(true);\r\n      } else {\r\n        this._handleLikeClick(false);\r\n      }\r\n    });\r\n    this._cardDeleteBtn.addEventListener('click', () => {\r\n      this._handleDelClick();\r\n    });\r\n    this._cardImg.addEventListener('click', () => {\r\n      this._handleCardClick();\r\n    })\r\n  }\r\n\r\n  _likeCard() {\r\n    this._cardLikeBtn.classList.toggle('element__like-button_active');\r\n  }\r\n\r\n  refreshLikesNum(num) {\r\n    this._cardLikesQty.textContent = num;\r\n    this._likeCard();\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}